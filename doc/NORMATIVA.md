# Normativa del Modelo 420 - IGIC

Este documento recopila los enlaces y referencias a la normativa oficial aplicable al Modelo 420 de autoliquidacion trimestral del IGIC (Impuesto General Indirecto Canario).

## Documentacion Oficial de la ATC

- **Informacion Modelo 420**: https://www3.gobiernodecanarias.org/tributos/atc/w/modelo-420
- **Instrucciones para cumplimentar el modelo** (PDF incluido en esta carpeta): `Instrucciones_modelo_420.pdf`
- **Manual del programa de ayuda** (PDF incluido en esta carpeta): `Manual_Modelo_420.pdf`
- **Versiones del programa de ayuda**: https://www3.gobiernodecanarias.org/tributos/atc/w/modelo-420-versiones-programa-de-ayuda
- **Sede Electronica ATC**: https://sede.gobiernodecanarias.org/tributos/
- **Presentacion telematica Modelo 420**: https://sede.gobiernodecanarias.org/sede/tramites/4015

## Normativa Reguladora del IGIC

### Leyes Principales

| Norma | Descripcion | Enlace |
|-------|-------------|--------|
| **Ley 20/1991** | Modificacion de los aspectos fiscales del Regimen Economico Fiscal de Canarias | [BOE](https://www.boe.es/buscar/act.php?id=BOE-A-1991-14463) |
| **Ley 4/2012** | Medidas administrativas y fiscales (contiene regulacion actual del IGIC) | [BOE](https://www.boe.es/buscar/act.php?id=BOE-A-2012-9477) |
| **Ley 19/1994** | Modificacion del Regimen Economico y Fiscal de Canarias | [BOE](https://www.boe.es/buscar/act.php?id=BOE-A-1994-15575) |

### Reglamentos

| Norma | Descripcion | Enlace |
|-------|-------------|--------|
| **Real Decreto 2538/1994** | Normas de desarrollo del IGIC y AIEM | [BOE](https://www.boe.es/buscar/act.php?id=BOE-A-1995-772) |
| **Decreto 268/2011** | Reglamento de gestion de los tributos derivados del REF de Canarias | [BOC](https://www.gobiernodecanarias.org/boc/2011/165/001.html) |

### Texto Refundido (actualizacion 2024)

| Norma | Descripcion | Enlace |
|-------|-------------|--------|
| **Decreto Legislativo 1/2025** | Texto Refundido de las disposiciones legales vigentes en materia de tributos cedidos y tributos propios de la Comunidad Autonoma de Canarias | [BOC](https://www.gobiernodecanarias.org/boc/2024/205/001.html) |

## Tipos de IGIC Vigentes

| Tipo | Porcentaje | Articulo Ley 4/2012 |
|------|------------|---------------------|
| Tipo cero | 0% | Art. 51 |
| Tipo reducido | 3% | Art. 52 |
| Tipo general | 7% | Art. 53 |
| Tipo incrementado | 9,5% | Art. 54 |
| Tipo especial incrementado | 15% | Art. 55 |
| Tipo especial | 20% | Art. 56 (tabaco) |

## Plazos de Presentacion

Segun el articulo 57 del Reglamento de gestion (Decreto 268/2011):

| Trimestre | Periodo | Plazo |
|-----------|---------|-------|
| 1T | Enero - Marzo | 1-20 de abril |
| 2T | Abril - Junio | 1-20 de julio |
| 3T | Julio - Septiembre | 1-20 de octubre |
| 4T | Octubre - Diciembre | 1-30 de enero (ano siguiente) |

**Nota**: El 4T debe presentarse junto con el Modelo 425 (declaracion-resumen anual).

## Obligados a Presentar el Modelo 420

- Sujetos pasivos del IGIC en **regimen general u ordinario**
- Sujetos pasivos en **regimenes especiales**:
  - Bienes usados, objetos de arte, antiguedades y objetos de coleccion
  - Agencias de viajes

**Excepcion**: No presentan el 420 quienes esten obligados o hayan optado por el **SII** (Suministro Inmediato de Informacion), que presentan el modelo 417.

## Formas de Presentacion

1. **Telematica** (obligatoria para S.A. y S.L.): Requiere certificado digital reconocido por la ATC
2. **Presencial**: Mediante impreso generado por el programa de ayuda

## Casillas Principales del Modelo 420

### IGIC Devengado (ventas)
- Casillas 01-18: Bases imponibles y cuotas por cada tipo de IGIC
- Casillas 19-20: Inversiones del sujeto pasivo
- Casillas 21-22: Modificaciones de bases y rectificacion de cuotas
- Casillas 23-24: Devoluciones regimen viajeros
- Casilla 25: **Total cuotas devengadas**

### IGIC Deducible (compras)
- Casillas 26-27: Adquisiciones interiores bienes corrientes
- Casillas 28-29: Adquisiciones interiores bienes de inversion
- Casillas 30-31: Importaciones bienes corrientes
- Casillas 32-33: Importaciones bienes de inversion
- Casillas 34-35: Rectificaciones de deducciones
- Casilla 36: Compensaciones regimen agricultura/ganaderia/pesca
- Casillas 37-39: Regularizaciones
- Casilla 40: **Total cuotas deducibles**

### Resultado
- Casilla 41: Diferencia (devengado - deducible)
- Casilla 42: Cuotas por operaciones impagadas (prorrata)
- Casilla 43: Cuotas a compensar de periodos anteriores
- Casilla 44: Resultado autoliquidaciones anteriores (complementarias)
- Casilla 45: **Resultado de la autoliquidacion**

### Informacion Adicional
- Casilla 46: Exportaciones y operaciones exentas con derecho a deduccion
- Casilla 47: Operaciones no sujetas e inversiones del sujeto pasivo

### Regimen Especial Criterio de Caja
- Casillas 48-49: Para acogidos al regimen
- Casillas 50-51: Para destinatarios de operaciones afectadas

## Contacto ATC

- **Telefono informacion tributaria**: 012
- **Portal web**: https://www.gobiernodecanarias.org/tributos/
- **Buzon de informacion tributaria**: https://www.gobiernodecanarias.org/tributos/jsf/contacto/informacion/index.jsp

## Formatos de Fichero de la ATC

El programa de ayuda de la ATC trabaja con dos formatos de fichero diferentes:

| Formato | Extension | Uso | Generado por |
|---------|-----------|-----|--------------|
| **Fichero de intercambio** | `.atc` | Importar/exportar declaraciones entre programas de ayuda | Opcion "Exportar declaraciones" |
| **Fichero de presentacion** | `.dec` | Presentacion telematica en la Sede Electronica | Opcion "Generar presentacion telematica" |

### Fichero .atc (intercambio)

- Se usa para importar declaraciones de otros sistemas al programa de ayuda
- Se usa para exportar declaraciones y guardarlas como backup
- NO sirve para presentacion telematica
- Operaciones en el programa de ayuda:
  - `Fichero > Importar declaraciones` (carga ficheros .atc)
  - `Fichero > Exportar declaraciones` (genera ficheros .atc)

### Fichero .dec (presentacion telematica)

- Es el formato requerido para la presentacion en la Sede Electronica de la ATC
- Este plugin puede generar ficheros `.dec` (formato por defecto)
- Operacion en el programa de ayuda: `Fichero > Generar presentacion telematica`

### Generacion desde el plugin

Este plugin puede generar ambos formatos:

```php
// Generar fichero .dec (presentacion telematica) - por defecto
$generator = new ATCFileGenerator($modelo);
$generator->setFormat(ATCFileGenerator::FORMAT_DEC);
$decContent = $generator->generate();

// Generar fichero .atc (importacion en programa de ayuda)
$generator->setFormat(ATCFileGenerator::FORMAT_ATC);
$atcContent = $generator->generate();
```

## Estructura del Fichero .dec

### Formato de codificacion

El formato `.dec` es una codificacion en tres capas:

1. **XML** - Estructura de datos con la declaracion (codificacion ISO-8859-1)
2. **Compresion zlib** - El XML se comprime usando `gzdeflate` (raw deflate, nivel 9)
3. **Codificacion uuencode** - Los datos comprimidos se codifican en formato uuencode

### Ejemplo de estructura XML

```xml
<?xml version="1.0" encoding="ISO-8859-1"?>
<DECLARACION>
  <CABECERA>
    <TIPO>DEC</TIPO>
    <MODELO>420</MODELO>
    <EJERCICIO>2025</EJERCICIO>
    <PERIODO>1T</PERIODO>
    <VERSION>9.2.0</VERSION>
  </CABECERA>
  <SUJETO>
    <NIF>B12345678</NIF>
    <NOMBRE>EMPRESA EJEMPLO SL</NOMBRE>
    ...
  </SUJETO>
  <IVA_DEVENGADO>...</IVA_DEVENGADO>
  <IVA_DEDUCIBLE>...</IVA_DEDUCIBLE>
  <RESULTADO>...</RESULTADO>
</DECLARACION>
```

### Codigos de provincia (Canarias)

| Codigo | Provincia |
|--------|-----------|
| 35 | Las Palmas |
| 38 | Santa Cruz de Tenerife |

### Ficheros de ejemplo

En la carpeta `Test/fixtures/` del proyecto se incluyen ejemplos de ficheros `.dec` y sus correspondientes XML decodificados para referencia.

## Referencias Adicionales

- [Quaderno - Guia Modelo 420](https://quaderno.io/es/articulos/modelo-420-igic/)
- [Getquipu - Modelo 420 IGIC](https://getquipu.com/blog/modelo-420-igic-canarias/)
- [Manual FacturaScripts](https://facturascripts.com/documentacion)
